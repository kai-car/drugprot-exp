defaults:
  - override /dataset: biorel_base
  - override /datamodule: default
  - override /taskmodule: re_text_classification_with_indices
  - override /model: sequence_classification_with_pooler
  - override /callbacks: default
  # this requires Weights & Biases (wandb package) to be installed
  - override /logger: wandb
  - override /trainer: default

name: "biorel/re_text_classification_with_indices"

base_model_name: "FacebookAI/roberta-base"

tags: ["dataset=biorel", "model=sequence_classification_with_pooler"]

seed: 12345

monitor_metric: metric/micro/f1/val

trainer:
  min_epochs: 3
  max_epochs: 3
  # gradient_clip_val: 0.5

datamodule:
  batch_size: 32
  num_workers: 8

taskmodule:
  # overwrite default values of the taskmodule (see taskmodule/re_text_classification_with_indices.yaml)
  max_window: 256
  add_type_to_marker: false
  tokenizer_name_or_path: ${base_model_name}
  add_candidate_relations: true
  partition_annotation: labeled_partitions
  collect_statistics: true

model:
  # overwrite default values of the model (see model/sequence_classification_with_pooler.yaml)
  learning_rate: 3e-5
  task_learning_rate: 3e-5
  model_name_or_path: ${base_model_name}
  warmup_proportion: 0.1
